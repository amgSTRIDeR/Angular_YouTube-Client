"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[51],{7051:(U,u,a)=>{a.r(u),a.d(u,{default:()=>A});var c=a(6895),l=a(3537),g=a(1375),h=a(6317),d=a(9653);const p=(0,d.ZF)("youtube"),f=(0,d.P1)(p,e=>e.videoItems),_=(0,d.P1)(p,e=>e.customItems);var t=a(4650);const b=function(e){return{"--bg-color":e}};let x=(()=>{class e{constructor(i){this.router=i,this.bgColor="#2F80ED",this.videoItem={},this.imageMap=[],this.imageSize=[]}ngOnInit(){this.imageMap=[`${this.videoItem.snippet.thumbnails.default.url} 120w`,`${this.videoItem.snippet.thumbnails.medium.url} 320w`,`${this.videoItem.snippet.thumbnails.high.url} 480w`],this.imageSize=["(max-width: 320px) 120px","(max-width: 480px) 320px","480px"];const i=Date.now()-new Date(this.videoItem.snippet.publishedAt).getTime(),n=Math.floor(i/864e5);n<7?this.bgColor="#2F80ED":n>=7&&n<=30?this.bgColor="#27AE60":n>30&&n<=180?this.bgColor="#F2C94C":n>180&&(this.bgColor="#EB5757")}showDetails(){this.router.navigate([`/main/${this.videoItem.id.videoId}`])}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-results-item"]],inputs:{videoItem:"videoItem"},decls:19,vars:11,consts:[[1,"card",3,"ngStyle"],["alt","",1,"card__thumbnail",3,"srcset","sizes","src"],[1,"card__statistics"],[1,"statistics__item"],["src","./assets/img/viewed.png","alt","view count"],["src","./assets/img/likes.png","alt","like count"],["src","./assets/img/favorites.png","alt","dislike count"],["src","./assets/img/comments.png","alt","comments count"],[1,"card__title"],[1,"card__button",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"ul",2)(3,"li",3),t._UZ(4,"img",4),t._uU(5),t.qZA(),t.TgZ(6,"li",3),t._UZ(7,"img",5),t._uU(8),t.qZA(),t.TgZ(9,"li",3),t._UZ(10,"img",6),t._uU(11),t.qZA(),t.TgZ(12,"li",3),t._UZ(13,"img",7),t._uU(14),t.qZA()(),t.TgZ(15,"h3",8),t._uU(16),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return n.showDetails()}),t._uU(18,"more..."),t.qZA()()),2&i&&(t.Q6J("ngStyle",t.VKq(9,b,n.bgColor)),t.xp6(1),t.s9C("srcset",n.imageMap.toString()),t.s9C("sizes",n.imageSize.toString()),t.Q6J("src",n.videoItem.snippet.thumbnails.default.url,t.LSH),t.xp6(4),t.Oqu(n.videoItem.statistics.viewCount),t.xp6(3),t.Oqu(n.videoItem.statistics.likeCount),t.xp6(3),t.Oqu(n.videoItem.statistics.favoriteCount),t.xp6(3),t.Oqu(n.videoItem.statistics.commentCount),t.xp6(2),t.Oqu(n.videoItem.snippet.title))},dependencies:[c.PC],styles:['.card[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:263px;height:327px;padding:20px 20px 15px;background-color:#e5e5e5;border-radius:5px}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:var(--bg-color);border-radius:0 0 5px 5px}.card__thumbnail[_ngcontent-%COMP%]{width:100%}.card__statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;padding:0;margin:0;font-family:Roboto,sans-serif;font-size:10px;list-style:none}.statistics__item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.statistics__item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:3px}.card__title[_ngcontent-%COMP%]{margin:0;padding:0;color:#4f4f4f;text-align:center;font-family:Roboto,sans-serif;font-size:20px;font-weight:700}.card__button[_ngcontent-%COMP%]{width:120px;height:32px;color:#fff;background-color:#2f80ed;border:none;border-radius:5px;box-shadow:3px 0 5px 2px #2f81ed83}.card__button[_ngcontent-%COMP%]:hover{background-color:#5ea2ff;cursor:pointer;transition:.3s ease}.card__button[_ngcontent-%COMP%]:active{background-color:#b1b1b1;color:#dcdcdc;transition:.3s ease}']}),e})(),v=(()=>{class e{transform(i,n){return i?n?i.filter(s=>s.snippet.title.toLowerCase().includes(n.toLowerCase())):i:[]}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"sortFilter",type:e,pure:!0}),e})(),C=(()=>{class e{transform(i,n){if(!i||!n)return i;switch(n){case"dateAsc":return i.sort((s,r)=>new Date(s.snippet.publishedAt).getTime()>new Date(r.snippet.publishedAt).getTime()?1:-1);case"dateDesc":return i.sort((s,r)=>new Date(s.snippet.publishedAt).getTime()<new Date(r.snippet.publishedAt).getTime()?1:-1);case"viewsAsc":return i.sort((s,r)=>+s.statistics.viewCount>+r.statistics.viewCount?1:-1);case"viewsDesc":return i.sort((s,r)=>+s.statistics.viewCount<+r.statistics.viewCount?1:-1);default:return i}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"sorting",type:e,pure:!0}),e})();function w(e,o){1&e&&t._UZ(0,"app-search-results-item",3),2&e&&t.Q6J("videoItem",o.$implicit)}function y(e,o){if(1&e&&(t.TgZ(0,"main",1),t.YNc(1,w,1,1,"app-search-results-item",2),t.ALo(2,"sorting"),t.ALo(3,"sortFilter"),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.xi3(3,4,i.videoItems,i.filterText),i.sortKey))}}let O=(()=>{class e{constructor(i,n,s){this.sortService=i,this.filterService=n,this.store=s,this.videoItems=[],this.showSearchResults=!1,this.filterText="",this.sortKey="",this.store.select(f).subscribe(r=>{this.videoItems=r,this.showSearchResults=!0})}ngOnInit(){this.filterService.filter$.subscribe(i=>{this.filterText=i}),this.sortService.sortKey$.subscribe(i=>{this.sortKey=i})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.Z),t.Y36(g.Z),t.Y36(d.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-results-list"]],decls:1,vars:1,consts:[["class","main",4,"ngIf"],[1,"main"],[3,"videoItem",4,"ngFor","ngForOf"],[3,"videoItem"]],template:function(i,n){1&i&&t.YNc(0,y,4,7,"main",0),2&i&&t.Q6J("ngIf",n.showSearchResults)},dependencies:[c.sg,c.O5,x,v,C],styles:[".main[_ngcontent-%COMP%]{box-sizing:border-box;display:grid;grid-template-columns:repeat(4,1fr);gap:30px 0;margin:0 auto;width:100%;padding:31px 152px}"]}),e})(),m=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Z=function(e){return{"--bg-color":e}};let I=(()=>{class e{constructor(i,n){this.detailedService=i,this.router=n,this.bgColor="#2F80ED",this.cardDate="",this.videoItem=this.detailedService.videoItem}ngOnInit(){this.cardDate=`${new Date(this.videoItem.snippet.publishedAt).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`;const i=Date.now()-new Date(this.videoItem.snippet.publishedAt).getTime(),n=Math.floor(i/864e5);n<7?this.bgColor="#2F80ED":n>=7&&n<=30?this.bgColor="#27AE60":n>30&&n<=180?this.bgColor="#F2C94C":n>180&&(this.bgColor="#EB5757")}returnBack(){this.router.navigate(["/main"])}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(m),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detailed"]],standalone:!0,features:[t.jDz],decls:26,vars:11,consts:[[1,"card",3,"ngStyle"],["alt","",1,"card__thumbnail",3,"src"],[1,"card-wrapper"],[1,"title-wrapper"],[1,"card__title"],[1,"card-date"],[1,"description-title"],[1,"description"],[1,"card__statistics"],[1,"statistics__item"],["src","./assets/img/viewed.png","alt","view count",1,"card__thumbnail"],["src","./assets/img/likes.png","alt","like count",1,"card__thumbnail"],["src","./assets/img/favorites.png","alt","dislike count",1,"card__thumbnail"],["src","./assets/img/comments.png","alt","comments count",1,"card__thumbnail"],[1,"back-button",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA()(),t.TgZ(8,"h4",6),t._uU(9,"Description:"),t.qZA(),t.TgZ(10,"p",7),t._uU(11),t.qZA(),t.TgZ(12,"ul",8)(13,"li",9),t._UZ(14,"img",10),t._uU(15),t.qZA(),t.TgZ(16,"li",9),t._UZ(17,"img",11),t._uU(18),t.qZA(),t.TgZ(19,"li",9),t._UZ(20,"img",12),t._uU(21),t.qZA(),t.TgZ(22,"li",9),t._UZ(23,"img",13),t._uU(24),t.qZA()()(),t.TgZ(25,"button",14),t.NdJ("click",function(){return n.returnBack()}),t.qZA()()),2&i&&(t.Q6J("ngStyle",t.VKq(9,Z,n.bgColor)),t.xp6(1),t.Q6J("src",n.videoItem.snippet.thumbnails.high.url,t.LSH),t.xp6(4),t.Oqu(n.videoItem.snippet.title),t.xp6(2),t.Oqu(n.cardDate),t.xp6(4),t.Oqu(n.videoItem.snippet.description),t.xp6(4),t.Oqu(n.videoItem.statistics.viewCount),t.xp6(3),t.Oqu(n.videoItem.statistics.likeCount),t.xp6(3),t.Oqu(n.videoItem.statistics.favoriteCount),t.xp6(3),t.Oqu(n.videoItem.statistics.commentCount))},dependencies:[c.ez,c.PC],styles:['.card[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:1165px;height:461px;margin:44px auto 0;background-color:#e5e5e5;border-radius:5px}.card__thumbnail[_ngcontent-%COMP%]{width:60%;max-height:100%}.card-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;width:40%;height:100%;padding:35px 37px 29px 34px}.card-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;width:40%;height:5px;background-color:var(--bg-color);border-radius:0 0 5px}.card__statistics[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin:0;padding:0;column-gap:20px;font-family:Roboto,sans-serif;font-size:10px;list-style:none}.statistics__item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.statistics__item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:3px}.title-wrapper[_ngcontent-%COMP%]{display:flex}.card__title[_ngcontent-%COMP%]{margin:0;padding:0;width:50%;text-align:center;font-family:Roboto,sans-serif;font-size:24px;font-weight:700}.card-date[_ngcontent-%COMP%]{width:50%;color:#828282;text-align:center;font-family:Roboto,sans-serif;font-weight:400;font-size:10px}.description-title[_ngcontent-%COMP%]{margin:2px 0;text-align:left;font-family:Roboto,sans-serif;font-weight:400;font-size:14px}.description[_ngcontent-%COMP%]{box-sizing:border-box;max-height:280px;overflow-y:scroll;text-align:center;font-family:Roboto,sans-serif;font-weight:400;font-size:12px;color:#828282}.card__button[_ngcontent-%COMP%]{width:120px;height:32px;color:#fff;background-color:#2f80ed;border:none;border-radius:5px;box-shadow:3px 0 5px 2px #2f81ed83}.card__button[_ngcontent-%COMP%]:hover{background-color:#5ea2ff;cursor:pointer;transition:.3s ease}.card__button[_ngcontent-%COMP%]:active{background-color:#b1b1b1;color:#dcdcdc;transition:.3s ease}.back-button[_ngcontent-%COMP%]{position:absolute;left:-32px;top:0;width:32px;height:32px;background-color:#2f80ed;border:none;border-radius:5px 0 0 5px}.back-button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:7px;left:8px;width:16px;height:18px;background-image:url(back-arrow.11bbc9cf32527799.png);background-size:contain;background-repeat:no-repeat;background-position:center center}.back-button[_ngcontent-%COMP%]:hover{background-color:#5ea2ff;cursor:pointer;transition:.3s ease}.back-button[_ngcontent-%COMP%]:active{background-color:#b1b1b1;color:#dcdcdc;transition:.3s ease}']}),e})();var M=a(3095),S=a(4004);let P=(()=>{class e{constructor(i,n,s){this.router=i,this.searchService=n,this.detailedService=s}canActivate(i){const n=i.paramMap.get("id");return this.searchService.videoItems$.pipe((0,S.U)(s=>{const r=s.find(F=>F.id.videoId===n);return r?(this.detailedService.videoItem=r,!0):(this.router.navigate(["/404"]),!1)}))}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(l.F0),t.LFG(M.Z),t.LFG(m))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function T(e,o){if(1&e&&(t.TgZ(0,"div",2),t._UZ(1,"img",3),t.TgZ(2,"h3",4),t._uU(3),t.qZA(),t.TgZ(4,"p",5),t._uU(5),t.qZA(),t.TgZ(6,"p",6),t._uU(7),t.qZA(),t._UZ(8,"video",7),t.qZA()),2&e){const i=o.$implicit;t.xp6(1),t.s9C("src",i.imageLink,t.LSH),t.xp6(2),t.Oqu(i.title),t.xp6(2),t.Oqu(i.description),t.xp6(2),t.Oqu(i.creationDate),t.xp6(1),t.s9C("src",i.videoLink,t.LSH)}}const D=[{path:"",component:O},{path:"custom-cards",component:(()=>{class e{constructor(i){this.store=i,this.customItems=[],this.store.select(_).subscribe(n=>{this.customItems=n})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(d.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-custom-cards"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"cards-wrapper"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["alt","",1,"card__thumbnail",3,"src"],[1,"card__title"],[1,"card__description"],[1,"card__date"],["controls","",1,"card__video",3,"src"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t.YNc(1,T,9,5,"div",1),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngForOf",n.customItems))},dependencies:[c.ez,c.sg],styles:[".cards-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:90%;justify-content:flex-start;margin:10px auto 0;column-gap:5%}.card[_ngcontent-%COMP%]{width:25%;margin-bottom:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;transition:all .3s ease-in-out;cursor:pointer}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}.card__thumbnail[_ngcontent-%COMP%]{width:90%;margin:5%}.card__title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0 5%;text-align:center;color:#000}.card__description[_ngcontent-%COMP%]{font-size:1rem;margin:0 5%;text-align:center;color:#000}.card__date[_ngcontent-%COMP%]{font-size:.8rem;margin:0 5%;text-align:center;color:#000}.card__video[_ngcontent-%COMP%]{width:90%;margin:5%}"]}),e})()},{path:":id",component:I,canActivate:[P]}];let k=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,l.Bz.forChild(D),l.Bz]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,k]}),e})()}}]);